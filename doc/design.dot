# dot -T png design.dot >design.png && xv design.png

digraph BluegitfDesign
{
        fontname="monospace";
        fontsize=8;

        node [fontname="monospace",fontsize=8,shape="record"];
        edge [fontname="monospace",fontsize=8,shape="record"];

        bluegitf [shape=record,label="{bluegitf|/the monolitic server/}"];
        bluegitf_shell [shape=record,label="{bluegitf-shell|/ensure ACL/}"];
        ssh [shape=record,label="{ssh}"];
        git_shell [shape=record,label="{git-shell}"];
        firefox [shape=record,label="{firefox}"];
        git [shape=record,label="{git|/git pull .../}"];

        authorized_keys [shape=database,label="authorized_keys"];
        repository [shape=database,label="repository"];
        db [shape=database,label="db"];

        firefox -> bluegitf;
        git -> ssh;
        ssh -> bluegitf_shell;
        ssh -> authorized_keys;
        authorized_keys -> bluegitf_shell;
        bluegitf_shell -> bluegitf;
        bluegitf_shell -> git_shell;
        git_shell -> repository;
        bluegitf -> db;
        bluegitf -> repository;
        bluegitf -> authorized_keys;
}
